## 并发2

### 串行（单线程）程序的状态机模型

+ 程序=有限状态机
  + 每个不同的configuration都是状态机的节点。
  + 所谓的边是状态之间的变换，变换是执行$M[R[\%rip]]$处的指令。
  + 大部分状态s有唯一的后续状态，但同时也有很多状态有不同的后续状态，不确定的指令可能有多个后续状态。
    + (时间)rdtsc/rdtscp：获取处理器的“时间戳”用于精确定时。
    + (机器状态)rdrand：处理器自身提供的“真”随机数指令。
    + (系统调用)syscall：一般应用主要/唯一不确定性的来源；例如根据键盘输入进行buf赋值并进行read。
  + 使用gdb可以查看暂停时一个程序的所有状态信息
    + x/n address；可以查看address往后n的内存数据
    + info registers：可以打印寄存器的值

### 状态机模型：应用

+ 硬件上的应用：高性能处理器实现
  + 超标量处理器：允许在状态机上“跳跃”

+ 在计算机系统上的应用：程序分析技术

  + 静态分析：根据程序代码推导出状态机的性质
  + 动态分析：检查运行时观测到状态机的执行

+ 例如用状态机模型来理解超标量处理器

  

----

### 积累

+ 学会使用rdrand
+ 感兴趣可以了解那篇物理的建模blog

